<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symptom Checker</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .symptom-buttons button {
            margin-bottom: 10px;
        }
        .selected {
            background-color: #007bff;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Symptom Checker</h1>
        <form action="/predict" method="post" onsubmit="checkSelections()">
            <h2 class="mt-4">Select Symptoms:</h2>
            <div class="symptom-buttons">
                {% for symptom in feature_names %}
                <button type="button" class="btn btn-outline-primary" id="{{ symptom }}" onclick="toggleSelection('{{ symptom }}')">{{ symptom }}</button>
                {% endfor %}
            </div>
            <div>
                <h2 class="mt-4">Selected Symptoms:</h2>
                <p id="symptom-list"></p>
            </div>
            <button type="submit" class="btn btn-primary mt-3">Submit</button>
            <button type="button" class="btn btn-secondary mt-3" onclick="clearAll()">Clear All</button>
        </form>
    </div>

    <script>
        function toggleSelection(symptom) {
            var button = document.getElementById(symptom);
            button.classList.toggle('selected');
            updateSymptomList(symptom);
        }
        function updateSymptomList(symptom) {
            var symptomList = document.getElementById('symptom-list');
            var selectedSymptoms = document.querySelectorAll('.selected');
            var symptoms = [];
            selectedSymptoms.forEach(function(selected) {
                symptoms.push(selected.textContent.trim());
            });
            symptomList.textContent = symptoms.join(', ');
        }
        function clearAll() {
            var buttons = document.querySelectorAll('.symptom-buttons button');
            buttons.forEach(function(button) {
                button.classList.remove('selected');
            });
            var symptomList = document.getElementById('symptom-list');
            symptomList.textContent = '';
        }
    </script>
</body>
</html>
